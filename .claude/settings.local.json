{
  "permissions": {
    "allow": [
      "Bash(npm install react-router-dom)",
      "Bash(unzip -p examples/tinder-data.zip \"*/data.json\")",
      "Bash(npm test -- --run src/lib/parsers/tinder-parser.test.ts)",
      "Bash(node -e \"\nconst fs = require(''fs'');\nconst { tinderParser } = require(''./dist/lib/parsers/tinder-parser.js'');\n\n// This won''t work because we need to build first\nconsole.log(''Need to test with actual file...'');\n\")",
      "Bash(npx eslint src/lib/parsers/tinder-parser.ts)",
      "Bash(unzip -p examples/hinge-data.zip \"export/matches.json\")",
      "Bash(npx eslint src/lib/parsers/hinge-parser.ts src/lib/parsers/index.ts)",
      "Bash(npm install express cors dotenv)",
      "Bash(npm install --save-dev @types/express @types/cors)",
      "Bash(npm install --save-dev concurrently)",
      "Bash(npm run server:dev)",
      "Bash(curl -s http://localhost:3001/health)",
      "Bash(node -e \"const data = require(''''fs'''').readFileSync(0, ''''utf-8''''); console.log(JSON.stringify(JSON.parse(data), null, 2))\")",
      "Bash(curl -s -I -H \"Origin: http://localhost:3000\" http://localhost:3001/health)",
      "Bash(test -f .env)",
      "Bash(curl -s -X POST http://localhost:3001/api/analyze -H \"Content-Type: application/json\" -d '{\"\"\"\"messages\"\"\"\":[],\"\"\"\"matches\"\"\"\":[],\"\"\"\"participants\"\"\"\":[],\"\"\"\"userId\"\"\"\":\"\"\"\"test\"\"\"\",\"\"\"\"platform\"\"\"\":\"\"\"\"tinder\"\"\"\"}')",
      "Bash(curl -s -X POST http://localhost:3001/api/analyze -H \"Content-Type: application/json\" -d '{\"\"messages\"\":[],\"\"matches\"\":[],\"\"participants\"\":[],\"\"userId\"\":\"\"test\"\",\"\"platform\"\":\"\"tinder\"\"}')",
      "Bash(curl -s -w \"\\nHTTP Status: %{http_code}\\n\" -X POST http://localhost:3001/api/analyze -H \"Content-Type: application/json\" -d '{\"\"messages\"\":[],\"\"matches\"\":[],\"\"participants\"\":[],\"\"userId\"\":\"\"test\"\",\"\"platform\"\":\"\"tinder\"\"}')",
      "Bash(curl -s -w \"\\nHTTP Status: %{http_code}\\n\" -X POST http://localhost:3001/api/analyze -H \"Content-Type: application/json\" -d '{\"\"platform\"\":\"\"tinder\"\"}')",
      "Bash(npx eslint src/pages/UploadPage.tsx src/api/client.ts)",
      "Bash(npx eslint src/components/results/AnalysisResultsDisplay.tsx src/pages/UploadPage.tsx)",
      "Bash(npx eslint src/lib/parsers/tinder-parser.ts src/pages/UploadPage.tsx)",
      "Bash(npx eslint src/lib/analyzers/safety-screener.ts src/lib/analyzers/safety-screener.test.ts src/components/results/AnalysisResultsDisplay.tsx)",
      "Bash(npx eslint src/lib/analyzers/safety-screener.ts src/lib/analyzers/safety-screener.test.ts)",
      "Bash(perl -pi -e \"s/''openai\\/gpt-4-turbo''/''openai\\/gpt-5''/g\" src/lib/analyzers/chronology-mapper.test.ts src/lib/analyzers/pattern-recognizer.test.ts src/lib/analyzers/stage2-comprehensive.test.ts src/lib/evaluators/risk-evaluator.test.ts)",
      "Bash(perl -pi -e \"s/''gpt-4-turbo''/''gpt-5''/g\" src/lib/evaluators/risk-evaluator.test.ts)",
      "Bash(perl -pi -e \"s/''openai\\/gpt-4''/''openai\\/gpt-5''/g\" src/lib/evaluators/risk-evaluator.test.ts)",
      "Bash(curl http://localhost:3001/health)",
      "Bash(lsof -i :3001)",
      "Bash(killall node)",
      "Bash(npm test -- --run src/lib/analyzers/metadata-analyzer.test.ts)",
      "Bash(node -e \"\nconst { analyzeMetadata } = require(''./dist/lib/analyzers/metadata-analyzer.js'');\nconst { tinderParser } = require(''./dist/lib/parsers/tinder-parser.js'');\nconst fs = require(''fs'');\nconst { execSync } = require(''child_process'');\n\n// Extract Tinder sample data\nconst zipOutput = execSync(''unzip -p examples/tinder-data.zip \"\"*/data.json\"\"'', { encoding: ''utf-8'' });\nconst tinderData = JSON.parse(zipOutput);\n\n// Parse the data\nconst parsed = tinderParser(tinderData);\n\n// Run metadata analysis\nconst metadata = analyzeMetadata({\n  messages: parsed.messages,\n  matches: parsed.matches,\n  participants: parsed.participants,\n  userId: parsed.userId\n}, ''Tinder'');\n\n// Display results\nconsole.log(''\\n=== METADATA ANALYSIS RESULTS ===\\n'');\nconsole.log(''Platform:'', metadata.platform);\nconsole.log(''\\nSummary:'', metadata.summary);\nconsole.log(''Assessment:'', metadata.assessment);\nconsole.log(''\\n--- Volume Metrics ---'');\nconsole.log(''Total Matches:'', metadata.volume.totalMatches);\nconsole.log(''Total Messages:'', metadata.volume.totalMessages);\nconsole.log(''Active Conversations:'', metadata.volume.activeConversations);\nconsole.log(''Avg Messages/Conversation:'', metadata.volume.averageMessagesPerConversation);\nconsole.log(''Messages Sent:'', metadata.volume.messagesSentByUser);\nconsole.log(''Messages Received:'', metadata.volume.messagesReceived);\nconsole.log(''\\n--- Timeline Metrics ---'');\nconsole.log(''First Activity:'', metadata.timeline.firstActivity);\nconsole.log(''Last Activity:'', metadata.timeline.lastActivity);\nconsole.log(''Total Days Active:'', metadata.timeline.totalDays);\nconsole.log(''Days Since Last Activity:'', metadata.timeline.daysSinceLastActivity);\nconsole.log(''Peak Activity Period:'', metadata.timeline.peakActivityPeriod);\nconsole.log(''\\n--- Activity Distribution ---'');\nconsole.log(''Matches by Month:'', metadata.distribution.matchesByMonth.slice(0, 5), ''...'');\nconsole.log(''Messages by Month:'', metadata.distribution.messagesByMonth.slice(0, 5), ''...'');\n\")",
      "Bash(npm run build)",
      "Bash(npx tsc -b)",
      "Bash(npx tsx scripts/demo-metadata.ts)",
      "Bash(lsof -ti :3001)",
      "Bash(xargs kill -9)",
      "Bash(npx tsx scripts/test-api-metadata.ts)",
      "Bash(npx tsc --noEmit src/pages/ProcessingPage.tsx)",
      "Bash(npx tsc --noEmit src/lib/analyzers/metadata-analyzer.ts)",
      "Bash(npx tsx scripts/test-export-timestamp.ts)",
      "Bash(node -e \"\nconst { tinderParser } = require(''./dist/lib/parsers/tinder-parser.js'');\nconst { execSync } = require(''child_process'');\n\n// Extract Tinder data\nconst zipOutput = execSync(''unzip -p examples/tinder-data.zip \"\"*/data.json\"\"'', { encoding: ''utf-8'' });\n\n// Parse the data\nconst result = tinderParser.parse(zipOutput, ''data.json'');\n\nresult.then(parsed => {\n  if (parsed.success && parsed.data) {\n    console.log(''✅ Parse successful!'');\n    console.log(''Matches:'', parsed.metadata.matchCount);\n    console.log(''Messages:'', parsed.metadata.messageCount);\n    console.log(''Participants:'', parsed.metadata.participantCount);\n    console.log('''');\n    console.log(''First 3 match IDs:'', parsed.data.matches.slice(0, 3).map(m => m.id));\n  } else {\n    console.log(''❌ Parse failed:'', parsed.errors);\n  }\n}).catch(err => console.error(''Error:'', err));\n\")",
      "Bash(npx tsx -e \"\nimport { tinderParser } from ''./src/lib/parsers/tinder-parser.ts'';\nimport { execSync } from ''child_process'';\n\n// Extract Tinder data\nconst zipOutput = execSync(''unzip -p examples/tinder-data.zip \"\"*/data.json\"\"'', { encoding: ''utf-8'' });\n\n// Parse the data\nconst result = await tinderParser.parse(zipOutput, ''data.json'');\n\nif (result.success && result.data) {\n  console.log(''✅ Parse successful!'');\n  console.log(''Matches:'', result.metadata.matchCount);\n  console.log(''Messages:'', result.metadata.messageCount);\n  console.log(''Participants:'', result.metadata.participantCount);\n  console.log('''');\n  console.log(''First 5 match IDs:'', result.data.matches.slice(0, 5).map(m => m.id));\n} else {\n  console.log(''❌ Parse failed:'', result.errors);\n}\n\")",
      "Bash(npx tsx scripts/test-tinder-parser.ts)",
      "Bash(npx tsx scripts/test-parser-fix.ts)",
      "Bash(git add -A)",
      "Bash(git diff-tree -r --no-commit-id --name-only --diff-filter=A origin/feature/mvp..HEAD)",
      "Bash(xargs -I {} sh -c 'test -f \"\"\"\"{}\"\"\"\" && du -h \"\"\"\"{}\"\"\"\" || echo \"\"\"\"{} (deleted)\"\"\"\"')",
      "Bash(npm test -- --run src/lib/analyzers/significance-detector.test.ts)",
      "Bash(npx tsx scripts/test-significance-api.ts)",
      "Bash(npx tsc --noEmit src/pages/ResultsPage.tsx src/components/results/SignificantConversationsDisplay.tsx)",
      "Bash(npx eslint src/pages/ResultsPage.tsx src/components/results/SignificantConversationsDisplay.tsx)"
    ],
    "deny": [],
    "ask": []
  }
}
